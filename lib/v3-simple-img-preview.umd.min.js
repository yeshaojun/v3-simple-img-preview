(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["v3-simple-img-preview"]=t(require("vue")):e["v3-simple-img-preview"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"24fb":function(e,t,n){"use strict";function o(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"===typeof btoa){var i=r(o),a=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}function r(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=o(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"===typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},4810:function(e,t,n){"use strict";n("83ea")},"499e":function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=i[0],c=i[1],l=i[2],s=i[3],u={id:e+":"+r,css:c,media:l,sourceMap:s};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),c=null,l=0,s=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,r){s=n,d=r||{};var a=o(e,t);return h(a),function(t){for(var n=[],r=0;r<a.length;r++){var c=a[r],l=i[c.id];l.refs--,n.push(l)}t?(a=o(e,t),h(a)):a=[];for(r=0;r<n.length;r++){l=n[r];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete i[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],o=i[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(v(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,o=document.querySelector("style["+f+'~="'+e.id+'"]');if(o){if(s)return u;o.parentNode.removeChild(o)}if(p){var r=l++;o=c||(c=g()),t=y.bind(null,o,r,!1),n=y.bind(null,o,r,!0)}else o=g(),t=w.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function y(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function w(e,t){var n=t.css,o=t.media,r=t.sourceMap;if(o&&e.setAttribute("media",o),d.ssrId&&e.setAttribute(f,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},"7d8d":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".iconpark-icon[data-v-58f06472]{width:24px;height:24px;color:#fff}.ysj-image-container[data-v-58f06472]{background-color:#000;position:absolute;width:100%;top:0;left:0;right:0;bottom:0;z-index:99999;color:#fff}.ysj-image-container-header[data-v-58f06472]{background-color:rgba(0,0,0,.3);position:absolute;left:0;top:0;height:44px;width:100%;line-height:44px;padding:0 10px;box-sizing:border-box;display:flex;justify-content:space-between;z-index:99}.ysj-image-opt[data-v-58f06472]{display:flex;align-content:center}.ysj-image-opt a[data-v-58f06472],.ysj-image-opt button[data-v-58f06472]{cursor:pointer;display:inline-block;height:44px;line-height:44px;width:24px;margin:0 10px;color:#fff;font-size:20px;background-color:transparent;border-width:0}.ysj-image-opt a[data-v-58f06472]:focus,.ysj-image-opt button[data-v-58f06472]:focus{outline-width:0}.ysj-image-arraw-left[data-v-58f06472]{left:10px}.ysj-image-arraw-left[data-v-58f06472],.ysj-image-arraw-right[data-v-58f06472]{position:absolute;top:50%;cursor:pointer;width:30px}.ysj-image-arraw-right[data-v-58f06472]{right:10px}.current-img[data-v-58f06472]{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.current-img[data-v-58f06472],.loading-wrapper[data-v-58f06472]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.loading-wrapper[data-v-58f06472]{color:#999}",""]),e.exports=t},"83ea":function(e,t,n){var o=n("7d8d");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var r=n("499e").default;r("5da3032c",o,!0,{sourceMap:!1,shadowMode:!1})},8875:function(e,t,n){var o,r,i;(function(n,a){r=[],o=a,i="function"===typeof o?o.apply(t,r):o,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,o,r,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,c=i.exec(p.stack)||a.exec(p.stack),l=c&&c[1]||!1,s=c&&c[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(o,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===l)return d[f];if(l===u&&d[f].innerHTML&&d[f].innerHTML.trim()===r)return d[f]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"previewImage",(function(){return H})),n.d(t,"previewImageCom",(function(){return q})),"undefined"!==typeof window){var o=window.document.currentScript,r=n("8875");o=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=n("8bbf"),c=function(e){return Object(a["pushScopeId"])("data-v-58f06472"),e=e(),Object(a["popScopeId"])(),e},l={class:"ysj-image-container"},s={class:"ysj-image-container-header"},u={key:0},d={key:1,class:"ysj-image-opt"},f=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#zoom-in"})],-1)})),p=[f],m=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#zoom-out"})],-1)})),h=[m],g=["href","download"],v=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#download-four"})],-1)})),b=[v],y=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#full-screen"})],-1)})),w=[y],j=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#close"})],-1)})),k=[j],C={class:"ysj-image-container-content"},O={class:"loading-wrapper"},x={ref:"imgDom",class:"current-img",alt:""},E=c((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),N=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#left"})],-1)})),S=[N],M=c((function(){return Object(a["createElementVNode"])("svg",{class:"iconpark-icon"},[Object(a["createElementVNode"])("use",{href:"#right"})],-1)})),V=[M];function z(e,t,n,o,r,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",s,[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0),e.config.header?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",u,Object(a["toDisplayString"])(e.dataConfig.current+"/"+e.dataConfig.urls.length),1)),e.config.header?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(t){return e.zoom("big")})},p),Object(a["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.zoom("small")})},h),Object(a["createElementVNode"])("a",{href:e.dataConfig.urls[e.dataConfig.current],target:"_blank",download:"image"+e.dataConfig.current},b,8,g),Object(a["createElementVNode"])("button",{onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.getFull&&e.getFull.apply(e,t)})},w),Object(a["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.close&&e.close.apply(e,t)})},k)]))]),Object(a["createElementVNode"])("div",C,[Object(a["withDirectives"])(Object(a["createElementVNode"])("span",O,"图片加载中",512),[[a["vShow"],e.loading]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("img",x,null,512),[[a["vShow"],!e.loading]])]),E,e.dataConfig.current>1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"ysj-image-arraw-left",onClick:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.arrawLeft&&e.arrawLeft.apply(e,t)})},S)):Object(a["createCommentVNode"])("",!0),e.dataConfig.current<e.dataConfig.urls.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:"ysj-image-arraw-right",onClick:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.arrawRight&&e.arrawRight.apply(e,t)})},V)):Object(a["createCommentVNode"])("",!0)])}var I=function(){!function(e){var t,n,o,r,i,a,c='<svg><symbol id="left" viewBox="0 0 48 48" fill="none"><path fill-opacity=".01" fill="#fff" d="M0 0h48v48H0z"/><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M31 36 19 24l12-12" data-follow-stroke="currentColor"/></symbol><symbol id="right" viewBox="0 0 48 48" fill="none"><path fill-opacity=".01" fill="#fff" d="M0 0h48v48H0z"/><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="m19 12 12 12-12 12" data-follow-stroke="currentColor"/></symbol><symbol id="zoom-out" viewBox="0 0 48 48" fill="none"><path fill-opacity=".01" fill="#fff" d="M0 0h48v48H0z"/><path stroke-linejoin="round" stroke-width="4" stroke="currentColor" d="M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4 4 11.611 4 21s7.611 17 17 17Z" data-follow-stroke="currentColor"/><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M15 21h12m6.222 12.222 8.485 8.485" data-follow-stroke="currentColor"/></symbol><symbol id="zoom-in" viewBox="0 0 48 48" fill="none"><path fill-opacity=".01" fill="#fff" d="M0 0h48v48H0z"/><path stroke-linejoin="round" stroke-width="4" stroke="currentColor" d="M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4 4 11.611 4 21s7.611 17 17 17Z" data-follow-stroke="currentColor"/><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M21 15v12m-6-6h12m6.222 12.222 8.485 8.485" data-follow-stroke="currentColor"/></symbol><symbol id="download-four" viewBox="0 0 48 48" fill="none"><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M24 29 12 17h8V6h8v11h8L24 29Z" clip-rule="evenodd" data-follow-stroke="currentColor"/><path stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M42 37H6m28 7H14" data-follow-stroke="currentColor"/></symbol><symbol id="full-screen" viewBox="0 0 48 48" fill="none"><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="M33 6h9v9m0 18v9h-9m-18 0H6v-9m0-18V6h9" data-follow-stroke="currentColor"/></symbol><symbol id="close" viewBox="0 0 48 48" fill="none"><path fill-opacity=".01" fill="#fff" d="M0 0h48v48H0z"/><path stroke-linejoin="round" stroke-linecap="round" stroke-width="4" stroke="currentColor" d="m8 8 32 32M8 40 40 8" data-follow-stroke="currentColor"/></symbol></svg>';function l(){i||(i=!0,o())}t=function(){var e,t,n;(n=document.createElement("div")).innerHTML=c,c=null,(t=n.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",e=t,(n=document.body).firstChild?(t=n.firstChild).parentNode.insertBefore(e,t):n.appendChild(e))},document.addEventListener?["complete","loaded","interactive"].indexOf(document.readyState)>-1?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(o=t,r=e.document,i=!1,(a=function(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(a,50)}l()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,l())})}(window)},R=Object(a["defineComponent"])({name:"img-preview",props:{config:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(a["ref"])(),t=Object(a["ref"])({current:0,urls:[]}),n=Object(a["ref"])(1),o=Object(a["ref"])(!1),r=Object(a["reactive"])({w:0,h:0});return{imgDom:e,dataConfig:t,loading:o,zoomRate:n,imgInfo:r,loadIcon:I}},methods:{loadImage:function(){var e=this,t=window.innerWidth,n=window.innerHeight,o=t/n;this.$nextTick((function(){e.loading=!0;var r=e.$refs.imgDom;r.removeAttribute("width"),r.removeAttribute("height"),e.dataConfig&&(r.src=e.dataConfig.urls[e.dataConfig.current-1]),r.onload=function(){var i=r.width/r.height;e.imgInfo.w=r.width,e.imgInfo.h=r.height,console.log("4323",i,o),i>o?r.width>.7*t&&(r.style.width=.7*t+"px",r.style.height=r.height/(r.width/(.7*t))+"px",e.imgInfo.w=.7*t,e.imgInfo.h=r.height/(r.width/(.7*t))):r.height>.7*n&&(r.style.height=.7*n+"px",r.style.width=r.width/(r.height/(.7*n))+"px",e.imgInfo.w=r.width/(r.height/(.7*n)),e.imgInfo.h=.7*n),e.loading=!1}}))},arrawRight:function(){(this.dataConfig.current!=this.dataConfig.urls.length||this.dataConfig.loop)&&(this.dataConfig.current===this.dataConfig.urls.length&&this.dataConfig.loop?this.dataConfig.current=1:this.dataConfig.current+=1,this.loadImage())},arrawLeft:function(){(1!=this.dataConfig.current||this.dataConfig.loop)&&(this.dataConfig.loop&&1==this.dataConfig.current?this.dataConfig.current=this.dataConfig.urls.length:this.dataConfig.current-=1,this.loadImage())},getFull:function(){if(this.isFull()){var e=document.exitFullscreen;if(e)e.call(document);else if(window.ActiveXObject){var t=new window.ActiveXObject("WScript.Shell");t&&t.SendKeys("F11")}}var n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},isFull:function(){return document.fullscreenElement||!1},close:function(){console.log("434");var e=document.getElementsByClassName("ysj-imgage-wrapper");e[0].style.display="none"},zoom:function(e){if(console.log("his.imgInfo",this.imgInfo),"big"===e)this.zoomRate=Number((this.zoomRate+.2).toFixed(1));else{if(console.log("this.zoomRate",this.zoomRate),this.zoomRate<=.2)return;this.zoomRate=Number((this.zoomRate-.2).toFixed(1))}console.log("type",e,this.zoomRate);var t=this.$refs.imgDom,n=this.imgInfo.w*this.zoomRate,o=this.imgInfo.h*this.zoomRate;t.style.width=n+"px",t.style.height=o+"px"}},mounted:function(){this.loadIcon(),this.config&&(this.dataConfig=Object.assign({},this.config),this.loadImage())}}),B=(n("4810"),n("6b0d")),L=n.n(B);const F=L()(R,[["render",z],["__scopeId","data-v-58f06472"]]);var T,D=F,_=function(e){var t,n=document.getElementsByClassName("ysj-imgage-wrapper");T&&n?(t=n[0],t.style.display="block",T.unmount()):(t=document.createElement("DIV"),t.setAttribute("class","ysj-imgage-wrapper"),document.body.appendChild(t)),T=Object(a["createApp"])(Object(a["h"])(D,{},e.header),{config:e}),T.component("imgPreview",Object(a["h"])(D,{config:e},e.header)),T.mount(t)},H=function(e){_(e)},q=D,P={install:function(e){e.config.globalProperties.$previewImage=H,e.config.globalProperties.$previewImageCom=D}};t["default"]=P}})}));
//# sourceMappingURL=v3-simple-img-preview.umd.min.js.map