(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["v3-imgpreview"]=t(require("vue")):e["v3-imgpreview"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"254a":function(e,t,n){e.exports=n.p+"img/chevron-left.56edde55.svg"},4672:function(e,t,n){e.exports=n.p+"img/chevron-right.4d6ff77e.svg"},"5bad":function(e,t,n){e.exports=n.p+"img/maximize.6c0457cd.svg"},6369:function(e,t,n){e.exports=n.p+"img/download.5f1be6c8.svg"},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},"6dfb":function(e,t,n){},"77cd":function(e,t,n){"use strict";n("6dfb")},8875:function(e,t,n){var o,r,i;(function(n,c){r=[],o=c,i="function"===typeof o?o.apply(t,r):o,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var n,o,r,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,c=/@([^@]*):(\d+):(\d+)\s*$/gi,a=i.exec(m.stack)||c.exec(m.stack),l=a&&a[1]||!1,u=a&&a[2]||!1,s=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");l===s&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(o,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===l)return f[d];if(l===s&&f[d].innerHTML&&f[d].innerHTML.trim()===r)return f[d]}return null}}return e}))},"8a0e":function(e,t,n){e.exports=n.p+"img/zoom-in.526b98d7.svg"},"8bbf":function(t,n){t.exports=e},"9f83":function(e,t,n){e.exports=n.p+"img/zoom-out.e3388f2f.svg"},bf37:function(e,t,n){e.exports=n.p+"img/close.e7fb8985.svg"},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"previewImage",(function(){return U})),n.d(t,"previewImageCom",(function(){return Y})),"undefined"!==typeof window){var o=window.document.currentScript,r=n("8875");o=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var c=n("8bbf"),a=n("8a0e"),l=n.n(a),u=n("9f83"),s=n.n(u),f=n("6369"),d=n.n(f),m=n("5bad"),g=n.n(m),p=n("bf37"),h=n.n(p),b=n("254a"),v=n.n(b),j=n("4672"),w=n.n(j),O=function(e){return Object(c["pushScopeId"])("data-v-62c65026"),e=e(),Object(c["popScopeId"])(),e},y={class:"ysj-image-container"},C={class:"ysj-image-container-header"},x={key:0},E={key:1,class:"ysj-image-opt"},k=O((function(){return Object(c["createElementVNode"])("img",{src:l.a,alt:"big"},null,-1)})),N=[k],S=O((function(){return Object(c["createElementVNode"])("img",{src:s.a,alt:"small"},null,-1)})),I=[S],V=["href","download"],R=O((function(){return Object(c["createElementVNode"])("img",{src:d.a,alt:"down"},null,-1)})),z=[R],F=O((function(){return Object(c["createElementVNode"])("img",{src:g.a,alt:"full"},null,-1)})),B=[F],_=O((function(){return Object(c["createElementVNode"])("img",{src:h.a,alt:"close"},null,-1)})),D=[_],P={class:"ysj-image-container-content"},q={ref:"imgDom",class:"current-img",alt:""},$=O((function(){return Object(c["createElementVNode"])("div",null,null,-1)})),M=O((function(){return Object(c["createElementVNode"])("img",{src:v.a,alt:"left",srcset:""},null,-1)})),T=[M],A=O((function(){return Object(c["createElementVNode"])("img",{src:w.a,alt:"right",srcset:""},null,-1)})),L=[A];function H(e,t,n,o,r,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",y,[Object(c["createElementVNode"])("div",C,[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0),e.config.header?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",x,Object(c["toDisplayString"])(e.dataConfig.current+"/"+e.dataConfig.urls.length),1)),e.config.header?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",E,[Object(c["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(t){return e.zoom("big")})},N),Object(c["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.zoom("small")})},I),Object(c["createElementVNode"])("a",{href:e.dataConfig.urls[e.dataConfig.current],target:"_blank",download:"image"+e.dataConfig.current},z,8,V),Object(c["createElementVNode"])("button",{onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.getFull&&e.getFull.apply(e,t)})},B),Object(c["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.close&&e.close.apply(e,t)})},D)]))]),Object(c["createElementVNode"])("div",P,[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",null,"图片加载中",512),[[c["vShow"],e.loading]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("img",q,null,512),[[c["vShow"],!e.loading]])]),$,e.dataConfig.current>1?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"ysj-image-arraw-left",onClick:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.arrawLeft&&e.arrawLeft.apply(e,t)})},T)):Object(c["createCommentVNode"])("",!0),e.dataConfig.current<e.dataConfig.urls.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:1,class:"ysj-image-arraw-right",onClick:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.arrawRight&&e.arrawRight.apply(e,t)})},L)):Object(c["createCommentVNode"])("",!0)])}var W=Object(c["defineComponent"])({name:"img-preview",props:{config:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(c["ref"])(),t=Object(c["ref"])({current:0,urls:[]}),n=Object(c["ref"])(1),o=Object(c["ref"])(!1),r=Object(c["reactive"])({w:0,h:0});return{imgDom:e,dataConfig:t,loading:o,zoomRate:n,imgInfo:r}},methods:{loadImage:function(){var e=this,t=window.innerWidth,n=window.innerHeight,o=t/n;this.$nextTick((function(){e.loading=!0;var r=e.$refs.imgDom;r.removeAttribute("width"),r.removeAttribute("height"),e.dataConfig&&(r.src=e.dataConfig.urls[e.dataConfig.current-1]),r.onload=function(){var i=r.width/r.height;e.imgInfo.w=r.width,e.imgInfo.h=r.height,console.log("4323",i,o),i>o?r.width>.7*t&&(r.style.width=.7*t+"px",r.style.height=r.height/(r.width/(.7*t))+"px",e.imgInfo.w=.7*t,e.imgInfo.h=r.height/(r.width/(.7*t))):r.height>.7*n&&(r.style.height=.7*n+"px",r.style.width=r.width/(r.height/(.7*n))+"px",e.imgInfo.w=r.width/(r.height/(.7*n)),e.imgInfo.h=.7*n),e.loading=!1}}))},arrawRight:function(){(this.dataConfig.current!=this.dataConfig.urls.length||this.dataConfig.loop)&&(this.dataConfig.current===this.dataConfig.urls.length&&this.dataConfig.loop?this.dataConfig.current=1:this.dataConfig.current+=1,this.loadImage())},arrawLeft:function(){(1!=this.dataConfig.current||this.dataConfig.loop)&&(this.dataConfig.loop&&1==this.dataConfig.current?this.dataConfig.current=this.dataConfig.urls.length:this.dataConfig.current-=1,this.loadImage())},getFull:function(){if(this.isFull()){var e=document.exitFullscreen;if(e)e.call(document);else if(window.ActiveXObject){var t=new window.ActiveXObject("WScript.Shell");t&&t.SendKeys("F11")}}var n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},isFull:function(){return document.fullscreenElement||!1},close:function(){console.log("434");var e=document.getElementsByClassName("ysj-imgage-wrapper");e[0].style.display="none"},zoom:function(e){if(console.log("his.imgInfo",this.imgInfo),"big"===e)this.zoomRate=Number((this.zoomRate+.2).toFixed(1));else{if(console.log("this.zoomRate",this.zoomRate),this.zoomRate<=.2)return;this.zoomRate=Number((this.zoomRate-.2).toFixed(1))}console.log("type",e,this.zoomRate);var t=this.$refs.imgDom,n=this.imgInfo.w*this.zoomRate,o=this.imgInfo.h*this.zoomRate;t.style.width=n+"px",t.style.height=o+"px"}},mounted:function(){this.config&&(this.dataConfig=Object.assign({},this.config),this.loadImage())}}),X=(n("77cd"),n("6b0d")),K=n.n(X);const G=K()(W,[["render",H],["__scopeId","data-v-62c65026"]]);var J=G,Q=function(e){var t,n,o=document.getElementsByClassName("ysj-imgage-wrapper");n&&o?(t=o[0],t.style.display="block",n.unmount()):(t=document.createElement("DIV"),t.setAttribute("class","ysj-imgage-wrapper"),document.body.appendChild(t)),n=Object(c["createApp"])(Object(c["h"])(J,{},e.header),{config:e}),n.component("imgPreview",Object(c["h"])(J,{config:e},e.header)),n.mount(t)},U=function(e){Q(e)},Y=J,Z={install:function(e){e.config.globalProperties.$previewImage=U,e.config.globalProperties.$previewImageCom=J}};t["default"]=Z}})}));
//# sourceMappingURL=v3-imgpreview.umd.min.js.map